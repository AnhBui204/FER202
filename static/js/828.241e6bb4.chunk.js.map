{"version":3,"file":"static/js/828.241e6bb4.chunk.js","mappings":"oLAIA,MAqCA,EArCoBA,IAAkC,IAAjC,KAAEC,EAAI,OAAEC,EAAM,UAAEC,GAAWH,EAC9C,OACEI,EAAAA,EAAAA,KAACC,EAAAA,EAAK,CACJJ,KAAMA,EACNC,OAAQA,EACRI,UAAQ,EACRC,UAAU,uEAAuEC,UAEjFC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,4DAA2DC,SAAA,EACxEC,EAAAA,EAAAA,MAACJ,EAAAA,EAAMK,OAAM,CAACH,UAAU,oDAAmDC,SAAA,EACzEJ,EAAAA,EAAAA,KAAA,MAAIG,UAAU,sCAAqCC,SAAC,0BACpDJ,EAAAA,EAAAA,KAAA,UAAQO,QAAST,EAAQK,UAAU,oCAAmCC,SAAC,eAIzEJ,EAAAA,EAAAA,KAACC,EAAAA,EAAMO,KAAI,CAACL,UAAU,qBAAoBC,SAAC,iDAG3CC,EAAAA,EAAAA,MAACJ,EAAAA,EAAMQ,OAAM,CAACN,UAAU,yBAAwBC,SAAA,EAC9CJ,EAAAA,EAAAA,KAAA,UACEO,QAAST,EACTK,UAAU,8EAA6EC,SACxF,YAGDJ,EAAAA,EAAAA,KAAA,UACEO,QAASR,EACTI,UAAU,yEAAwEC,SACnF,kBAKC,ECrCCM,EAAgBA,CAACC,EAAYC,IAC/B,IAAIC,SAASC,IAClBC,YAAW,KACTD,EAAQH,IAAa,GACpBC,EAAM,I,OCEf,MAAMI,GAAYC,EAAAA,EAAAA,OAAK,IAAMP,GAAc,IAAM,+BAAuB,OAClEQ,GAAYD,EAAAA,EAAAA,OAAK,IAAMP,GAAc,IAAM,+BAAuB,OAyDxE,EAvDoBS,KAChB,MAAM,MAAEC,EAAK,SAAEC,IAAaC,EAAAA,EAAAA,YAAWC,EAAAA,IAChCC,EAAWC,IAAgBC,EAAAA,EAAAA,WAAS,IACpCC,EAAeC,IAAoBF,EAAAA,EAAAA,UAAS,OAC5CG,EAAcC,IAAmBJ,EAAAA,EAAAA,UAAS,MAE3CK,EAAeA,CAACC,EAAIC,KACtBL,EAAiB,CAAEI,KAAIC,aACvBR,GAAa,EAAK,EAUhBS,EAAaA,CAACC,EAAOF,KACvBH,EAAgB,IAAKK,EAAOF,YAAW,EAc3C,OACI5B,EAAAA,EAAAA,MAAA,OAAKF,UAAU,6BAA4BC,SAAA,EACvCJ,EAAAA,EAAAA,KAAA,MAAIG,UAAU,sCAAqCC,SAAC,sBAEpDJ,EAAAA,EAAAA,KAAA,MAAIG,UAAU,2EAA0EC,SAAC,iBACzFJ,EAAAA,EAAAA,KAACgB,EAAS,CAACoB,OAAQhB,EAAMiB,SAAUC,SAAWN,GAAOD,EAAaC,EAAI,YAAaO,OAASJ,GAAUD,EAAWC,EAAO,eAExHnC,EAAAA,EAAAA,KAAA,MAAIG,UAAU,2EAA0EC,SAAC,mBACzFJ,EAAAA,EAAAA,KAACgB,EAAS,CAACoB,OAAQhB,EAAMoB,OAAQF,SAAWN,GAAOD,EAAaC,EAAI,UAAWO,OAASJ,GAAUD,EAAWC,EAAO,aAEpHnC,EAAAA,EAAAA,KAAA,MAAIG,UAAU,2EAA0EC,SAAC,kBACzFJ,EAAAA,EAAAA,KAACgB,EAAS,CAACoB,OAAQhB,EAAMqB,MAAOH,SAAWN,GAAOD,EAAaC,EAAI,SAAUO,OAASJ,GAAUD,EAAWC,EAAO,YAElHnC,EAAAA,EAAAA,KAAA,MAAIG,UAAU,2EAA0EC,SAAC,eACzFJ,EAAAA,EAAAA,KAACgB,EAAS,CAACoB,OAAQhB,EAAMsB,SAAUJ,SAAWN,GAAOD,EAAaC,EAAI,YAAaO,OAASJ,GAAUD,EAAWC,EAAO,eAExHnC,EAAAA,EAAAA,KAACkB,EAAS,CAACyB,OA3BAC,UACf,MAAM,SAAEX,KAAaY,GAAcC,EACnC,IACI,MAAMC,QAAgBC,EAAAA,EAAAA,IAAYf,EAAUY,GAC5CxB,EAAS,CAAE4B,KAAM,aAAchB,SAAUA,EAAUiB,QAASH,IAC5DjB,EAAgB,KACpB,CAAE,MAAOqB,GACLC,QAAQD,MAAM,wBAAyBA,EAC3C,GAmBmCtB,aAAcA,KAC7C7B,EAAAA,EAAAA,KAACqD,EAAW,CAACxD,KAAM2B,EAAW1B,OAAQA,IAAM2B,GAAa,GAAQ1B,UAvCnD6C,UAClB,MAAM,GAAEZ,EAAE,SAAEC,GAAaN,QACnB2B,EAAAA,EAAAA,IAAYrB,EAAUD,GAC5BX,EAAS,CAAE4B,KAAM,eAAgBhB,SAAUA,EAAUiB,QAASlB,IAC9DP,GAAa,EAAM,MAoCb,C","sources":["components/admin/DeleteModal.js","components/utils/loadWithDelay.js","components/admin/ManageMovie.js"],"sourcesContent":["import React from 'react';\r\nimport { Modal } from 'react-bootstrap';\r\n\r\n\r\nconst DeleteModal = ({ show, onHide, onConfirm }) => {\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={onHide}\r\n      centered\r\n      className=\"fixed inset-0 flex items-center justify-center custom-modal-backdrop\" // Apply custom class\r\n    >\r\n      <div className=\"bg-white rounded-lg shadow-lg p-5 w-full max-w-md mx-auto\">\r\n        <Modal.Header className=\"flex justify-between items-center border-b-2 pb-2\">\r\n          <h5 className=\"text-xl font-semibold text-gray-800\">Confirm Delete Movie</h5>\r\n          <button onClick={onHide} className=\"text-gray-400 hover:text-gray-600\">\r\n            âœ•\r\n          </button>\r\n        </Modal.Header>\r\n        <Modal.Body className=\"my-4 text-gray-700\">\r\n          Are you sure you want to delete this movie?\r\n        </Modal.Body>\r\n        <Modal.Footer className=\"flex justify-end gap-3\">\r\n          <button\r\n            onClick={onHide}\r\n            className=\"px-4 py-2 rounded-md bg-gray-300 text-gray-800 hover:bg-gray-400 transition\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={onConfirm}\r\n            className=\"px-4 py-2 rounded-md bg-red-500 text-white hover:bg-red-600 transition\"\r\n          >\r\n            Delete\r\n          </button>\r\n        </Modal.Footer>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default DeleteModal;\r\n","export const loadWithDelay = (importFunc, delay) => {\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        resolve(importFunc());\r\n      }, delay);\r\n    });\r\n  };\r\n  ","import React, { lazy, useContext, useState } from 'react'\r\nimport { MovieContext } from './MovieContext'\r\nimport { deleteMovie, updateMovie } from './MovieService'\r\nimport DeleteModal from './DeleteModal'\r\nimport { loadWithDelay } from '../utils/loadWithDelay';\r\nimport '../../admin.css'\r\nconst MovieList = lazy(() => loadWithDelay(() => import('./MovieList'), 2000));\r\nconst MovieForm = lazy(() => loadWithDelay(() => import('./MovieForm'), 2000));\r\n\r\nconst ManageMovie = () => {\r\n    const { state, dispatch } = useContext(MovieContext)\r\n    const [showModal, setShowModal] = useState(false)\r\n    const [deleteMovieId, setDeleteMovieId] = useState(null)\r\n    const [editingMovie, setEditingMovie] = useState(null)\r\n\r\n    const handleDelete = (id, category) => {\r\n        setDeleteMovieId({ id, category });\r\n        setShowModal(true);\r\n    }\r\n\r\n    const confirmDelete = async () => {\r\n        const { id, category } = deleteMovieId;\r\n        await deleteMovie(category, id);\r\n        dispatch({ type: 'DELETE_MOVIE', category: category, payload: id });\r\n        setShowModal(false);\r\n    }\r\n\r\n    const handleEdit = (movie, category) => {\r\n        setEditingMovie({ ...movie, category });\r\n    }\r\n\r\n    const handleSave = async (updatedMovie) => {\r\n        const { category, ...movieData } = updatedMovie;\r\n        try {\r\n            const updated = await updateMovie(category, movieData); // Update with category and movieData\r\n            dispatch({ type: 'EDIT_MOVIE', category: category, payload: updated });\r\n            setEditingMovie(null); // Reset form after successful update\r\n        } catch (error) {\r\n            console.error(\"Error updating movie:\", error); // Log error details in console\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className='movie-management container'>\r\n            <h2 className='font-bold text-3xl text-center my-4'>Movie Management</h2>\r\n\r\n            <h3 className=\"font-bold my-2 bg-[#e50813] rounded-lg px-6 py-3 text-white inline-block\">Home Movies</h3>\r\n            <MovieList movies={state.homeData} onDelete={(id) => handleDelete(id, 'homeData')} onEdit={(movie) => handleEdit(movie, 'homeData')} />\r\n\r\n            <h3 className=\"font-bold my-2 bg-[#e50813] rounded-lg px-6 py-3 text-white inline-block\">Action Movies</h3>\r\n            <MovieList movies={state.action} onDelete={(id) => handleDelete(id, 'action')} onEdit={(movie) => handleEdit(movie, 'action')} />\r\n\r\n            <h3 className=\"font-bold my-2 bg-[#e50813] rounded-lg px-6 py-3 text-white inline-block\">Anime Movies</h3>\r\n            <MovieList movies={state.anime} onDelete={(id) => handleDelete(id, 'anime')} onEdit={(movie) => handleEdit(movie, 'anime')} />\r\n\r\n            <h3 className=\"font-bold my-2 bg-[#e50813] rounded-lg px-6 py-3 text-white inline-block\">Phim Viet</h3>\r\n            <MovieList movies={state.phimviet} onDelete={(id) => handleDelete(id, 'phimviet')} onEdit={(movie) => handleEdit(movie, 'phimviet')} />\r\n\r\n            <MovieForm onSave={handleSave} editingMovie={editingMovie} />\r\n            <DeleteModal show={showModal} onHide={() => setShowModal(false)} onConfirm={confirmDelete} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ManageMovie"],"names":["_ref","show","onHide","onConfirm","_jsx","Modal","centered","className","children","_jsxs","Header","onClick","Body","Footer","loadWithDelay","importFunc","delay","Promise","resolve","setTimeout","MovieList","lazy","MovieForm","ManageMovie","state","dispatch","useContext","MovieContext","showModal","setShowModal","useState","deleteMovieId","setDeleteMovieId","editingMovie","setEditingMovie","handleDelete","id","category","handleEdit","movie","movies","homeData","onDelete","onEdit","action","anime","phimviet","onSave","async","movieData","updatedMovie","updated","updateMovie","type","payload","error","console","DeleteModal","deleteMovie"],"sourceRoot":""}